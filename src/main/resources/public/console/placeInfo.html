<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>place-info</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <script src="/js/jquery-3.4.1.js"></script>
    <script src="/layui/layui.js"></script>
    <script src="/js/vue.js"></script>
    <script src="/js/getUrlParam.js"></script>


</head>
<body>


<form class="layui-form" id="placeInfo">

    <div class="layui-form-item">
        <label class="layui-form-label">发布者</label>
        <div class="layui-input-block">
            <input type="text" readonly="readonly " name="username" v-model="username" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">标题</label>
        <div class="layui-input-block">
            <input type="text"  name="title" v-model="title" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">详细信息</label>
        <div class="layui-input-block">
            <input type="text"  name="details" v-model="details" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">电话</label>
        <div class="layui-input-block">
            <input type="text"  name="phone" v-model="phone" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">类型</label>
        <div class="layui-input-block">
            <input type="text"  name="type" v-model="type" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">价格</label>
        <div class="layui-input-block">
            <input type="text"  name="price" v-model="price" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

</form>





</body>


<script>
    var id = $.getUrlParam('id');
    var info=new Vue({
        el:"#placeInfo",
        data:{
            id:"",
            title:"",
            username:"",
            phone:"",
            details:"",
            type:"",
            price:""
        }
    })

    $(function () {
        $.ajax({
            url: "/place/getPlaceById/" + id,
            // data:{
            //     "id":id,
            // },
            type: 'get',
            success: function (data) {
                if (data.code === 0) {
                    info.id = id;
                    info.username = data.data.username;
                    info.title = data.data.title;
                    info.phone = data.data.phone;
                    info.details = data.data.details;
                    info.type = data.data.type;
                    info.price = data.data.price;
                }
            }
        })
    })

    function update() {

        $.ajax({
            url: "/place/updatePlaceById",
            data:{
                "id":info.id,
            },
            type: 'get',
            success: function (data) {
                if (data.code === 0) {
                    info.id = id;
                    info.username = data.data.username;
                    info.title = data.data.title;
                    info.phone = data.data.phone;
                    info.details = data.data.details;
                    info.type = data.data.type;
                    info.price = data.data.price;
                }
            }
        })


    }

</script>

</html>